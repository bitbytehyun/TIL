# 브라우저에서 URL 입력시 과정
## 실제 개념
### 1. 브라우저에서 URL 입력
브라우저 주소창에 URL(`https://example.com/page`)을 입력하면, 브라우저는 이 URL을 프로토콜, 도메인, 경로로 나눕니다. 
### 2. DNS 조회
브라우저는 도메인을 실제 서버의 IP 주소로 바꾸기 위해 DNS 서버에 질의합니다. 
* 로컬 캐시에 도메인 기록이 있는지 확인
* 없으면 ISP의 DNS 서버나 지정된 DNS에 요청합니다.
최종적으로 `example.com`을 `43.144.153.34` 같은 IP 주소를 얻습니다.

### 3. TCP 연결
브라우저는 해당 IP 주소로 TCP 3-way 핸드셰이크를 하여 서버와 연결을 맺습니다. 
1. 클라이언트 -> 서버: SYN 패킷
2. 서버 -> 클라이언트: SYN + ACK 패킷
3. 클라이언트 -> 서버: ACK 패킷

이 연결이 성립되면, 데이터 통신이 가능해집니다. 
여기서, HTTPS 프로토콜이라면 암호화 통신을 위한 TLS 핸드셰이크가 추가됩니다. 
* 클라이언트와 서버가 암호화 방식을 협상합니다.
* 서버가 도메인 소유를 증명하는 인증서를 전달합니다.
* 대칭키를 교환하게 되면, 이후 트래픽은 암호화됩니다.


### 4. HTTP 요청 전송
브라우저는 원하는 자원을 요청하기 위해 HTTP 요청을 생성합니다. 
```http
GET /page HTTP/1.1
Host: example.com
User-Agent: Chrome/139.0
Accept: text/html
```
### 5. 서버 처리 
서버는 요청을 받고, 웹 어플리케이션 로직을 실행하여, HTML, JSON, 이미지 등으로 결과를 응답합니다. 
### 6. HTTP 응답 반환
서버는 다음과 같은 HTTP 응답을 보냅니다. 
```http
HTTP/1.1 200 OK
Content-Type: text/html; charset=UTF-8
Content-Length: 1024

<html>...</html>
```
### 7. 브라우저 랜더링
브라우저는 받은 HTML을 해석하면서 다음 작업을 통해 화면에 그립니다.
* DOM 트리 생성
* CSS 파싱 후 랜더 트리 생성
* 자바스크립트 실행
* 이미지, 폰트 등 추가 리소스 요청 처리


