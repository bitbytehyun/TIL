# jwt 토큰이란?
## 실제 개념
JWT는 JSON Web Token 약자로, 웹에서 안전하게 JSON 형식의 데이터를 주고받기 위해 사용하는 토큰입니다. 
인증, 인가 상황에서 많이 사용되며, 사용자가 로그인하면 서버가 JWT를 발급해주고, 이후 요청떄마다 이 토큰을 실어서 보내면 서버가 사용자를 식별할 수 있습니다.

### 구조
JWT 토큰은 JSON 형식의 문자열로 다음 세 부분으로 구성되어 있고, `.`으로 구분합니다. 
1. 헤더 : 서명 알고리즘 정보, `{ "alg": "HS256", "typ": "JWT" }`
1. 페이로드 : 실제 데이터 (예: 사용자 id, 권한 정보, 만료 시간 등), `{ "userId": 123, "role": "admin", "exp": 1694096400 }`
2. 서명 : 헤더와 페이로드를 비밀 키로 서명한 값으로, 변조되지 않았는지 검증 가능

### 동작 방식
1. 사용자가 로그인 하면, 서버는 JWT를 생성하여 클라이언트에게 전달합니다.
2. 클라이언트는 JWT를 로컬 스토리지 또는 쿠키에 저장합니다.
3. 클라이언트는 이후 API 요청 시, `Authorization: Bearer <JWT>` 헤더에 담아 서버로 보냅니다.
4. 서버는 받은 JWT의 서명을 검증해서 사용자를 인증하고, 유효하면 요청을 처리합니다.

### 장점
* Stateless: 서버가 세션을 따로 저장하지 않아도 됩니다
* 분산 환경에 적합: 여러 서버/마이크로서비에서도 쉽게 공유가 가능합니다.
* 권한 제어 용이: Payload에 Role, Scope 같은 권한을 넣을 수 있습니다.

### 단점
* Payload는 암호화가 아니라 인코딩이기 때문에, 누구나 내용을 볼 수 있어 민감정보는 저장하지 않아야 합니다.
* 토큰 크기가 세션 ID보다 커, 네트워크 부하가 있을 수 있습니다.
* 만료 전까지는 무효화하기 어려워, 강제 로그아웃 구현이 까다롭습니다.
